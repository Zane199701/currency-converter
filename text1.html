<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>货币转换器</title>
    <style>
        /* --- Google Font --- */
        @import url('https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap');

        /* --- Global Styles & Variables --- */
        :root {
            --primary-color: #4285F4; /* Google Blue */
            --background-color: #f0f2f5;
            --container-bg-color: #ffffff;
            --text-color: #3c4043;
            --light-text-color: #80868b;
            --border-color: #dadce0;
            --hover-color: #f1f3f4;
            --active-color: #e8eaed;
            --result-color: #1a73e8;
            --shadow-color: rgba(60, 64, 67, 0.15);
            --font-family: 'Google Sans', 'Roboto', sans-serif;
        }

        html {
            height: 100%;
            overflow: hidden;
        }

        body {
            margin: 0;
            padding: 20px;
            font-family: var(--font-family);
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
            height: 100%;
            overflow: hidden;
            touch-action: none;
        }

        /* --- Main Container --- */
        .converter-container {
            width: 100%;
            max-width: 380px;
            background-color: var(--container-bg-color);
            border-radius: 16px;
            box-shadow: 0 4px 20px var(--shadow-color);
            padding: 24px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* --- Header: Dropdown --- */
        .conversion-direction {
            position: relative;
        }

        .converter-select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: transparent;
            font-size: 16px;
            font-family: var(--font-family);
            color: var(--text-color);
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%235f6368' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        .converter-select:hover {
            border-color: #9aa0a6;
        }
        .converter-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2);
        }

        /* --- Amount Input Area --- */
        .amount-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .amount-input-wrapper {
            flex-grow: 1;
            position: relative;
            background-color: var(--hover-color);
            border-radius: 8px;
            padding: 8px 16px;
        }

        .amount-label {
            font-size: 12px;
            color: var(--light-text-color);
            display: block;
        }

        .amount-display {
            font-size: 28px;
            font-weight: 500;
            color: var(--text-color);
            height: 36px;
            line-height: 36px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .backspace-btn {
            width: 48px;
            height: 68.5px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: transparent;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.2s ease;
        }
        .backspace-btn:hover {
            background-color: var(--hover-color);
        }
        .backspace-btn:active {
            background-color: var(--active-color);
        }
        .backspace-btn svg {
            width: 24px;
            height: 24px;
            stroke: var(--text-color);
        }

        /* --- Result Display --- */
        .result-section {
            background-color: #e8f0fe; /* Light Blue Background */
            border-radius: 8px;
            padding: 12px 16px;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .result-label {
            font-size: 14px;
            color: var(--result-color);
            font-weight: 500;
        }

        .result-display {
            font-size: 36px;
            font-weight: 700;
            color: var(--result-color);
            word-break: break-all;
        }

        /* --- Numpad --- */
        .numpad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .numpad-btn {
            height: 64px;
            font-size: 22px;
            font-weight: 500;
            font-family: var(--font-family);
            color: var(--text-color);
            background-color: var(--hover-color);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }

        .numpad-btn:hover {
            background-color: #e0e2e6;
        }
        .numpad-btn:active {
            transform: scale(0.95);
            background-color: var(--active-color);
        }

        .clear-btn {
            background-color: #fce8e6; /* Light Red */
            color: #d93025; /* Red */
        }
        .clear-btn:hover {
            background-color: #f9ddda;
        }
         .clear-btn:active {
            background-color: #f6d2cf;
        }

        .clear-btn svg {
            width: 24px;
            height: 24px;
            stroke: #d93025;
        }

        /* --- About Button --- */
        .about-btn-wrapper {
            display: flex;
            justify-content: center;
        }

        .about-btn {
            width: 100%;
            height: 48px;
            font-size: 16px;
            font-weight: 500;
            color: var(--primary-color);
            background-color: transparent;
            border: 1px solid var(--primary-color);
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .about-btn:hover {
            background-color: #e8f0fe;
        }
        .about-btn:active {
            background-color: #d2e3fc;
        }

        /* --- About Page (Hidden by default) --- */
        .about-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--container-bg-color);
            display: none;
            flex-direction: column;
            padding: 24px;
            box-sizing: border-box;
            color: var(--text-color);
            z-index: 10;
        }

        .about-page.active {
            display: flex;
        }

        .about-content {
            flex-grow: 1;
            padding: 20px 0;
            overflow-y: auto;
            text-align: justify;
            font-size: 16px;
        }

        .about-content h2 {
            font-weight: 500;
            margin-top: 0;
        }

        .back-btn {
            width: 100px;
            height: 48px;
            align-self: flex-start;
            font-size: 16px;
            font-weight: 500;
            color: var(--text-color);
            background-color: var(--hover-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .back-btn:hover {
            background-color: #e0e2e6;
        }
        .back-btn:active {
            background-color: var(--active-color);
        }

    </style>
</head>
<body>

    <div class="converter-container" id="converter-page">
        
        <div class="conversion-direction">
            <select id="conversion-select" class="converter-select">
                <option value="VND-USD">越南盾 - 美元</option>
                <option value="VND-CNY">越南盾 - 人民币</option>
                <option value="CNY-VND">人民币 - 越南盾</option>
                <option value="CNY-USD">人民币 - 美元</option>
                <option value="USD-VND">美元 - 越南盾</option>
                <option value="USD-CNY">美元 - 人民币</option>
            </select>
        </div>
        
        <div class="amount-section">
            <div class="amount-input-wrapper">
                <label id="amount-label" class="amount-label" for="amount-display">金额 (越南盾)</label>
                <div id="amount-display" class="amount-display">0</div>
            </div>
            <button class="backspace-btn" id="backspace-btn" aria-label="退格">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path>
                    <line x1="18" y1="9" x2="12" y2="15"></line>
                    <line x1="12" y1="9" x2="18" y2="15"></line>
                </svg>
            </button>
        </div>

        <div class="result-section">
            <span id="result-label" class="result-label">转换结果 (美元)</span>
            <div id="result-display" class="result-display">0.00</div>
        </div>

        <div class="numpad">
            <button class="numpad-btn" data-value="7">7</button>
            <button class="numpad-btn" data-value="8">8</button>
            <button class="numpad-btn" data-value="9">9</button>
            <button class="numpad-btn" data-value="4">4</button>
            <button class="numpad-btn" data-value="5">5</button>
            <button class="numpad-btn" data-value="6">6</button>
            <button class="numpad-btn" data-value="1">1</button>
            <button class="numpad-btn" data-value="2">2</button>
            <button class="numpad-btn" data-value="3">3</button>
            <button class="numpad-btn" data-value="000">000</button>
            <button class="numpad-btn" data-value="0">0</button>
            <button class="numpad-btn clear-btn" id="clear-btn" aria-label="清空">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2.5 2.5l19 19M21.5 2.5l-19 19"/></svg>
            </button>
        </div>

        <div class="about-btn-wrapper">
            <button class="about-btn" id="about-btn">关于</button>
        </div>
    </div>

    <div class="about-page" id="about-page">
        <div class="about-content">
            <h2>关于本应用</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Donec sed odio dui. Praesent commodo cursus magna, vel scelerisque nisl consectetur et.</p>
        </div>
        <button class="back-btn" id="back-btn">返回</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const converterPage = document.getElementById('converter-page');
            const aboutPage = document.getElementById('about-page');
            const aboutBtn = document.getElementById('about-btn');
            const backBtn = document.getElementById('back-btn');
            const amountDisplay = document.getElementById('amount-display');
            const resultDisplay = document.getElementById('result-display');
            const numpad = document.querySelector('.numpad');
            const backspaceBtn = document.getElementById('backspace-btn');
            const clearBtn = document.getElementById('clear-btn');
            const conversionSelect = document.getElementById('conversion-select');
            const amountLabel = document.getElementById('amount-label');
            const resultLabel = document.getElementById('result-label');

            let currentAmount = '0';
            
            // 更新后的虚拟汇率
            const exchangeRates = {
                'VND-USD': 0.000039,
                'VND-CNY': 0.00028,
                'CNY-VND': 3702.332,
                'CNY-USD': 0.138,
                'USD-VND': 25450.0,
                'USD-CNY': 7.13,
            };

            const currencyNames = {
                'VND': '越南盾',
                'USD': '美元',
                'CNY': '人民币'
            };

            function formatNumber(numStr) {
                if (numStr === '0') return '0';
                const [integerPart, decimalPart] = numStr.split('.');
                const formattedIntegerPart = integerPart.replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                return decimalPart ? `${formattedIntegerPart}.${decimalPart}` : formattedIntegerPart;
            }

            function updateDisplay() {
                amountDisplay.textContent = formatNumber(currentAmount);
                calculateResult();
            }

            function updateLabels() {
                const selectedValue = conversionSelect.value;
                const [from, to] = selectedValue.split('-');
                amountLabel.textContent = `金额 (${currencyNames[from]})`;
                resultLabel.textContent = `转换结果 (${currencyNames[to]})`;
            }

            function calculateResult() {
                const rate = exchangeRates[conversionSelect.value];
                const amount = parseFloat(currentAmount.replace(/,/g, '')) || 0;
                let result = (amount * rate);

                const toCurrency = conversionSelect.value.split('-')[1];
                let decimalPlaces;
                if (toCurrency === 'VND') {
                    decimalPlaces = 0;
                } else {
                    decimalPlaces = 2;
                }

                result = result.toFixed(decimalPlaces);
                resultDisplay.textContent = formatNumber(result.toString());
            }

            // --- Event Listeners ---
            numpad.addEventListener('click', function(e) {
                if (e.target.matches('.numpad-btn')) {
                    const value = e.target.dataset.value;

                    if (currentAmount === '0' && value !== '000') {
                        currentAmount = value;
                    } else if (currentAmount !== '0' && currentAmount.length < 15) {
                        currentAmount += value;
                    }
                    updateDisplay();
                }
            });
            
            clearBtn.addEventListener('click', function() {
                currentAmount = '0';
                updateDisplay();
            });

            backspaceBtn.addEventListener('click', function() {
                if (currentAmount.length > 1) {
                    currentAmount = currentAmount.slice(0, -1);
                } else {
                    currentAmount = '0';
                }
                updateDisplay();
            });

            conversionSelect.addEventListener('change', function() {
                updateLabels();
                calculateResult();
            });

            aboutBtn.addEventListener('click', function() {
                converterPage.style.display = 'none';
                aboutPage.classList.add('active');
            });

            backBtn.addEventListener('click', function() {
                aboutPage.classList.remove('active');
                converterPage.style.display = 'flex';
            });

            // 阻止触摸移动和双击事件的默认行为，增强禁用效果
            document.addEventListener('touchmove', function (e) {
                e.preventDefault();
            }, { passive: false });

            document.addEventListener('dblclick', function (e) {
                e.preventDefault();
            }, { passive: false });

            // Initial setup
            updateLabels();
            updateDisplay();
        });
    </script>
</body>
</html>
